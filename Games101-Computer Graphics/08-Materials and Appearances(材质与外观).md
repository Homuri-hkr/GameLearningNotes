- 外观是材质加上光照的结果

- 微表面材质/模型(基于物理的)：只要离的够远，微小的东西是看不到的，只能看见光对模型的整体效应。它假设物体的表面是粗糙的，从远处看看到的是平的的表面，从近处看是能看到凹凸不平的表面。学术点讲是指从远处看是外观，从近处看是几何，本质上来说材质和几何有关

  微表面的brdf：i是入射，o是出射方向，h是半程向量，F(fresnel term)不同入射方向有不同的反射方向，代表共有多少能量被反射；D(distribution of normals)法线的分布，G(shadowing-masking term)表面会发生遮挡现象，在平行于表面时最容易出现自遮挡现象
  $$
  f(i,o)=\frac{F(i,h)G(i,o,h)D(h)}{4(n.i)(n,o)}
  $$

- 材质分为两类

  各向同性材质：微表面不存在一定的方向性或方向性很弱，法线分布基本上是均匀的。只和相对的brdf有关
  $$
  f_r(\theta_i,\phi_i,\theta_r,\phi_r)=f_r(\theta_i,\theta_r,\phi_r-\phi_i)
  $$
  由于brdf可逆，所以不用关心方向角的大小
  $$
  f_r(\theta_i,\theta_r,|\phi_r-\phi_i|)
  $$
  各向异性材质：微表面存在明显的方向性，法线分布也是具有明显的方向性

  brdf的区别：不满足在方位角上旋转得到相同的brdf，则是各向异性
  $$
  f_r(\theta_i,\phi_i,\theta_r,\phi_r)!=f_r(\theta_i,\theta_r,\phi_r-\phi_i)
  $$

- 渲染方程中brdf决定了物体的材质，材质就是反射光的方式

- 漫反射的brdf是0至1/pi 

- brdf总结：

  - 非负的，表示能量的分布
  - 线性的，可以将其拆成很多块，最后加起来结果和整个brdf一样
  - 可逆性，交换入射方向和出射方向，得到的brdf是一样的
  - 满足能量守恒，不会让能量变多

- 测量brdf：光源和相机瞄着一个球心点，围绕球表面各个方向转。由于入射角和出射角都是二维的，brdf结果就是四维的，如果材质是各向同性，就只用测三维的，少了很多数据量。还有很多改善测量brdf的方法