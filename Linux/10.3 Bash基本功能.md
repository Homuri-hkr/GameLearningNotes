### 10.3 Bash基本功能

| 历史命令 | history                                |
| -------- | -------------------------------------- |
| 语法     | history [选项] [历史命令保存文件]      |
| -c       | 清空历史命令                           |
| -w       | 把缓存中的历史命令写入历史命令保存文件 |

历史命令保存文件~/.bash_history

历史命令默认会保存1000条，可以在环境变量配置文件/etc/profile中进行修改

历史命令调用：

- 使用上下箭头条用以前的历史命令
- 使用"!n"重复执行第n跳历史命令
- 使用"!!"重复执行上一条命令
- 使用"!字串"重复执行最后一条以该子串开头的命令

在Bash中，只要在输入命令或文件时，按“Tab”键就会自动补全命令或文件，有多个开头的可以按两下查看所有以该子串开头的命令或文件

设定命令别名：alias 别名 = '原命令'

查询命令别名：alias

命令执行时顺序：

1. 用绝对路径或相对路径执行的命令
2. 别名
3. Bash的内部命令
4. 按照$PASH环境变量定义的目录查找顺序找到的第一个命令

让别名永久生效，修改root/.bashrc的相应命令

Bash常用快捷键：

| 快捷键（ctrl+） | 作用                                                     |
| --------------- | -------------------------------------------------------- |
| A               | 把光标移动到命令行开头                                   |
| E               | 把光标移动到命令行尾                                     |
| C               | 强制终止当前的命令                                       |
| L               | 清屏，相当于clear                                        |
| U               | 删除或剪切光标前的命令                                   |
| K               | 删除或剪切光标后的命令                                   |
| Y               | 粘贴U、K剪切的内容                                       |
| R               | 在历史命令中搜索，按后输入要搜索的历史命令，回车即可搜索 |
| D               | 退出当前终端                                             |
| Z               | 暂停，并放入后台                                         |
| S               | 暂停屏幕输出                                             |
| Q               | 恢复屏幕输出                                             |

| 设备   | 设备文件名  | 文件描述符 | 类型         |
| ------ | ----------- | ---------- | ------------ |
| 键盘   | /dev/stdin  | 0          | 标准输入     |
| 显示器 | /dev/stdout | 1          | 标准输出     |
| 显示器 | /dev/stderr | 2          | 标准错误输出 |

输出重定向：

| 类型                   | 符号                 | 作用                                               |
| ---------------------- | -------------------- | -------------------------------------------------- |
| 标准输出重定向         | 命令 > 文件          | 以覆盖的方式把命令的正确输出输出到指定文件或设备中 |
| 标准输出重定向         | 命令 >> 文件         | 以追加的方式把命令的正确输出输出到指定文件或设备中 |
| 标准错误输出重定向     | 错误命令 2>文件      | 以覆盖的方式把命令的错误输出输出到指定文件或设备中 |
| 标准错误输出重定向     | 错误命令 2>>文件     | 以追加的方式把命令的错误输出输出到指定文件或设备中 |
| 正确和错误输出同时保存 | 命令 > 文件 2>&1     | 以覆盖的方式把正确和错误输出都保存到一个文件中     |
| 正确和错误输出同时保存 | 命令 >> 文件 2>&1    | 以追加的方式把正确和错误输出都保存到一个文件中     |
| 正确和错误输出同时保存 | 命令 &> 文件         | 以覆盖的方式把正确和错误输出都保存到一个文件中     |
| 正确和错误输出同时保存 | 命令 &>> 文件        | 以追加的方式把正确和错误输出都保存到一个文件中     |
| 正确和错误输出同时保存 | 命令>>文件1 2>>文件2 | 把正确的输出追加到文件1中，错误的输出追加到文件2   |

输入重定向：

wc [选项] [文件名]

选项：-c 统计字节数			-w 统计单词数			-l 统计行数

命令 < 文件			把文件作为命令的输入

命令 << 符号		  把符号作为文件结束的标志而不是以ctrl+d结束

| 多命令执行符 | 格式           | 作用                                       |
| ------------ | -------------- | ------------------------------------------ |
| ；           | 命令1 ；命令2  | 多个命令顺序执行，命令之间没有任何逻辑联系 |
| &&           | 命令1&&命令2   | 当命令1正确执行命令2才会执行               |
| \|\|         | 命令1\|\|命令2 | 当命令1执行不正确命令2才会执行             |

管道符：

命令1 | 命令2		命令1的正确输出作为命令2的操作对象，命令1若不正确命令2不会执行

| 通配符 | 作用                                    |
| ------ | --------------------------------------- |
| ？     | 匹配一个任意字符                        |
| *      | 匹配0个或任意多个任意字符               |
| []     | 匹配中括号中任意一个字符                |
| [-]    | 匹配中括号中任意一个字符，-代表一个范围 |
| [^]    | 逻辑非，表示匹配不是中括号的一个字符    |

Bash中其他特殊符号

| 符号 | 作用                                                  |
| ---- | ----------------------------------------------------- |
| ''   | 在单引号中的所有特殊符号都没有特殊含义                |
| ""   | 在双引号中除了$ \ ``之外的特殊符号都没有特殊含义      |
| ``   | 反引号括起来的内容是系统命令，在Bash中会先执行它      |
| $()  | 和``作用一样，用来引用系统命令，通常用这个命令        |
| #    | Shell脚本中，#开头的行代表注释                        |
| $    | 用于调用变量的值                                      |
| \    | 转义符，跟在\后的特殊符号将失去特殊含义，变为普通字符 |

